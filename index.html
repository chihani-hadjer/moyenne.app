<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg, #e6ccff, #f3e6ff);
}

.container{
    background:white;
    padding:25px;
    width:460px;
    border-radius:16px;
    box-shadow:0 0 25px rgba(0,0,0,0.25);
    text-align:center;
}

input{
    width:85%;
    padding:8px;
    margin:6px 0;
    text-align:center;
    border-radius:6px;
    border:1px solid #ccc;
}

button{
    padding:10px 22px;
    margin-top:10px;
    border:none;
    border-radius:8px;
    background:#7b2ff7;
    color:white;
    font-weight:bold;
    cursor:pointer;
}

button:hover{background:#5f22c9;}

.lang{
    margin-bottom:10px;
}

.note{
    background:#fdeaea;
    border:1px solid #e74c3c;
    color:#b30000;
    padding:10px;
    border-radius:8px;
    margin-bottom:15px;
    font-size:13px;
    text-align:right;
}

#result{
    margin-top:18px;
    padding:16px;
    border:4px solid;
    border-radius:12px;
    display:none;
    font-weight:bold;
}

.success{border-color:#1fa64a;color:#1fa64a;}
.fail{border-color:#d11a2a;color:#d11a2a;}

.signature{
    margin-top:18px;
    font-size:12px;
    color:#777;
    font-style:italic;
}
</style>
</head>

<body>

<div class="container">

<div class="lang">
    <button onclick="setLang('ar')">AR</button>
    <button onclick="setLang('en')">EN</button>
</div>

<h2 id="title">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</h2>

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ -->
<div id="step1">
    <p id="modulesText">Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯</p>
    <input type="number" id="modules" min="1">
    <br><br>
    <button id="confirmBtn" onclick="goToStep2()">ØªØ£ÙƒÙŠØ¯</button>
</div>

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© -->
<div id="step2" style="display:none;">

    <div class="note" id="noteText">
        ğŸ“Œ ØªÙ†ÙˆÙŠÙ‡: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù…Ø§Ø¯Ø© Ø¨Ø¯ÙˆÙ† ØªÙ‚ÙˆÙŠÙ… Ù…Ø³ØªÙ…Ø± (CC) ÙˆÙ…Ø¹Ø§Ù…Ù„Ù‡Ø§ = 1ØŒ
        ØªÙØ­Ø³Ø¨ Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† ÙÙ‚Ø·.
    </div>

    <div id="marks"></div>

    <button id="calcBtn" onclick="calculate()">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</button>
</div>

<div id="result"></div>

<div class="signature">Designed by Hadjer Programmer</div>

</div>

<script>
let lang="ar";

const text={
ar:{
title:"Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„",
modules:"Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯",
confirm:"ØªØ£ÙƒÙŠØ¯",
calc:"Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„",
note:"ğŸ“Œ ØªÙ†ÙˆÙŠÙ‡: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù…Ø§Ø¯Ø© Ø¨Ø¯ÙˆÙ† ØªÙ‚ÙˆÙŠÙ… Ù…Ø³ØªÙ…Ø± (CC) ÙˆÙ…Ø¹Ø§Ù…Ù„Ù‡Ø§ = 1ØŒ ØªÙØ­Ø³Ø¨ Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† ÙÙ‚Ø·.",
mark:"Ø§Ù„Ù…Ø§Ø¯Ø©",
cc:"CC",
exam:"Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†",
coef:"Ø§Ù„Ù…Ø¹Ø§Ù…Ù„",
success:"ğŸŒŸ Ù†Ø¬Ø§Ø­Ùƒ Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø© Ù†Ø­Ùˆ Ù…Ø³ØªÙ‚Ø¨Ù„ Ø£ÙØ¶Ù„.",
fail:"ğŸŒ± Ù„Ø§ ØªÙŠØ£Ø³ØŒ Ù…Ø§ Ø²Ø§Ù„Øª Ù„Ø¯ÙŠÙƒ ÙØ±ØµØ©ØŒ Ø¨Ø§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ² Ø³ØªØµÙ„ Ù„Ù„Ù†Ø¬Ø§Ø­.",
avg:"Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¹Ø§Ù…",
need:"Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù„Ù„Ù†Ø¬Ø§Ø­:"
},
en:{
title:"Average Calculator",
modules:"Enter number of modules",
confirm:"Confirm",
calc:"Calculate average",
note:"ğŸ“Œ Note: If the module has no CC and coefficient = 1, only the exam mark is counted.",
mark:"Module",
cc:"CC",
exam:"Exam",
coef:"Coefficient",
success:"ğŸŒŸ Your success today is a step towards a better future.",
fail:"ğŸŒ± Don't give up, you still have a chance. Keep working.",
avg:"General average",
need:"Required semester 2 average to pass:"
}
};

function setLang(l){
lang=l;
document.body.dir=(l==="ar")?"rtl":"ltr";
document.getElementById("title").innerText=text[l].title;
document.getElementById("modulesText").innerText=text[l].modules;
document.getElementById("confirmBtn").innerText=text[l].confirm;
document.getElementById("calcBtn").innerText=text[l].calc;
document.getElementById("noteText").innerText=text[l].note;
}

function goToStep2(){
const n=parseInt(document.getElementById("modules").value);
if(!n||n<=0)return;

document.getElementById("step1").style.display="none";
document.getElementById("step2").style.display="block";

let html="";
for(let i=1;i<=n;i++){
html+=`
<div>
<h4>${text[lang].mark} ${i}</h4>
<label>${text[lang].cc}</label><br>
<input type="number" id="cc${i}" min="0" max="20"><br>
<label>${text[lang].exam}</label><br>
<input type="number" id="exam${i}" min="0" max="20"><br>
<label>${text[lang].coef}</label><br>
<input type="number" id="coef${i}" min="1"><hr>
</div>`;
}
document.getElementById("marks").innerHTML=html;
}

function calculate(){
const n=document.querySelectorAll("#marks div").length;
let total=0,totalCoef=0;

for(let i=1;i<=n;i++){
const ccVal=document.getElementById("cc"+i).value;
const exam=parseFloat(document.getElementById("exam"+i).value)||0;
const coef=parseFloat(document.getElementById("coef"+i).value)||1;
let note=(ccVal==="")?exam:(parseFloat(ccVal)*0.4+exam*0.6);
total+=note*coef;
totalCoef+=coef;
}

const avg=total/totalCoef;
const res=document.getElementById("result");
res.style.display="block";

if(avg>=10){
res.className="success";
res.innerHTML=`${text[lang].success}<br>${text[lang].avg}: ${avg.toFixed(2)}`;
}else{
const needed=(20-avg).toFixed(2);
res.className="fail";
res.innerHTML=`
${text[lang].fail}<br>
${text[lang].avg}: ${avg.toFixed(2)}<br>
${text[lang].need} ${needed}
`;
}
}

setLang("ar");
</script>

</body>
</html>


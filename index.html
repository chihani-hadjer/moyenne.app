<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„ - Rofia Programmer</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    /* Ø®Ù„ÙÙŠØ© Ø¨Ù†ÙØ³Ø¬ÙŠØ© ÙØ§ØªØ­Ø© Ù…ØªØ¯Ø±Ø¬Ø© */
    background: linear-gradient(135deg, #e6ccff, #f3e6ff);
}
.container {
    background: white;
    padding: 25px;
    width: 450px;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    text-align: center;
}
input {
    width: 85%;
    padding: 8px;
    margin: 6px 0;
    text-align: center;
    border-radius:5px;
    border:1px solid #ccc;
}
button {
    padding: 10px 20px;
    margin-top: 10px;
    cursor: pointer;
    border:none;
    border-radius:7px;
    background:#7b2ff7;
    color:white;
    font-weight:bold;
    transition: 0.3s;
}
button:hover {background:#f107a3;}
#result {
    margin-top: 15px;
    padding: 15px;
    border: 3px solid;
    display: none;
    font-weight: bold;
    text-align: center;
    border-radius:10px;
}
.success { border-color: green; color: green; }
.fail { border-color: red; color: red; }
.lang { margin-bottom: 10px; }
.signature { margin-top: 15px; font-size: 12px; color: #777; font-style: italic; }
hr { margin:10px 0; border:0; border-top:1px solid #ccc; }
</style>
</head>
<body>

<div class="container">

    <!-- Switch language -->
    <div class="lang">
        <button onclick="setLang('ar')">AR</button>
        <button onclick="setLang('en')">EN</button>
    </div>

    <h2 id="title">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</h2>

    <!-- Step 1: Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯ -->
    <div id="step1">
        <p id="modulesText">Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯</p>
        <input type="number" id="modules" min="1">
        <button onclick="createInputs()" id="confirmBtn">ØªØ£ÙƒÙŠØ¯</button>
    </div>

    <!-- Step 2: Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª -->
    <div id="step2" style="display:none;">
        <div id="marks"></div>
        <button onclick="calculate()" id="calcBtn">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</button>
    </div>

    <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
    <div id="result"></div>

    <div class="signature">Designed by Rofia Programmer</div>
</div>

<script>
let lang='ar';

const text = {
    ar:{
        title:"Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„",
        modules:"Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯",
        confirm:"ØªØ£ÙƒÙŠØ¯",
        calc:"Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„",
        success:"ğŸŒŸ Ù†Ø¬Ø§Ø­Ùƒ Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø© Ù†Ø­Ùˆ Ù…Ø³ØªÙ‚Ø¨Ù„ Ø£ÙØ¶Ù„.",
        fail:"ğŸŒ± Ù„Ø§ ØªÙŠØ£Ø³ØŒ Ù…Ø§ Ø²Ø§Ù„Øª Ù„Ø¯ÙŠÙƒ ÙØ±ØµØ©ØŒ Ø¨Ø§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ² Ø³ØªØµÙ„ Ù„Ù„Ù†Ø¬Ø§Ø­.",
        need:"Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù„Ù„Ù†Ø¬Ø§Ø­:",
        mark:"Ø§Ù„Ù…Ø§Ø¯Ø©",
        cc:"CC",
        exam:"Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†",
        coef:"Ø§Ù„Ù…Ø¹Ø§Ù…Ù„"
    },
    en:{
        title:"Average Calculator",
        modules:"Enter number of modules",
        confirm:"Confirm",
        calc:"Calculate average",
        success:"ğŸŒŸ Your success today is a step towards a better future.",
        fail:"ğŸŒ± Don't give up, you still have a chance. Keep focusing.",
        need:"Required semester 2 average to pass:",
        mark:"Module",
        cc:"CC",
        exam:"Exam",
        coef:"Coefficient"
    }
};

function setLang(l){
    lang=l;
    document.getElementById("title").innerText=text[l].title;
    document.getElementById("modulesText").innerText=text[l].modules;
    document.getElementById("confirmBtn").innerText=text[l].confirm;
    document.getElementById("calcBtn").innerText=text[l].calc;
    const n=document.querySelectorAll("#marks div").length;
    if(n>0){
        for(let i=1;i<=n;i++){
            document.getElementById("cc"+i+"_label").innerText=text[l].cc;
            document.getElementById("exam"+i+"_label").innerText=text[l].exam;
            document.getElementById("coef"+i+"_label").innerText=text[l].coef;
        }
    }
}

function createInputs(){
    const n=parseInt(document.getElementById("modules").value);
    if(n<=0 || isNaN(n)) return;
    let html="";
    for(let i=1;i<=n;i++){
        html+=`<div>
            <h4>${text[lang].mark} ${i}</h4>
            <label id="cc${i}_label">${text[lang].cc}</label><br>
            <input type="number" id="cc${i}" min="0" max="20"><br>
            <label id="exam${i}_label">${text[lang].exam}</label><br>
            <input type="number" id="exam${i}" min="0" max="20"><br>
            <label id="coef${i}_label">${text[lang].coef}</label><br>
            <input type="number" id="coef${i}" min="1"><hr>
        </div>`;
    }
    document.getElementById("marks").innerHTML=html;
    document.getElementById("step2").style.display="block";
}

function calculate(){
    const n=document.querySelectorAll("#marks div").length;
    let total=0, totalCoef=0;
    for(let i=1;i<=n;i++){
        const cc=parseFloat(document.getElementById("cc"+i).value)||0;
        const exam=parseFloat(document.getElementById("exam"+i).value)||0;
        const coef=parseFloat(document.getElementById("coef"+i).value)||1;
        const note=cc*0.4 + exam*0.6;
        total+=note*coef;
        totalCoef+=coef;
    }
    const avg=total/totalCoef;
    const result=document.getElementById("result");
    result.style.display="block";

    if(avg>=10){
        result.className="success";
        result.innerHTML=`${text[lang].success}<br>Ø§Ù„Ù…Ø¹Ø¯Ù„: ${avg.toFixed(2)}`;
    } else {
        const needed = 20 - avg;
        const semesterText = lang==="ar" ? "Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„" : "Semester 1 average";
        result.className="fail";
        result.innerHTML=`
        ${text[lang].fail}<br>
        ${semesterText}: ${avg.toFixed(2)}<br>
        ${text[lang].need} ${needed.toFixed(2)}
        `;
    }
}
</script>
</body>
</html>
